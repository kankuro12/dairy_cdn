// @ts-nocheck
const xpayCustomData=[];var xpayHandle,expayHandle,xpayLoad=!1;function xpayMethodChange(a){2==a.value?($("#xpay_bank_holder").show(),$("#xpay_bank_cheque_holder").show(),$("#xpay_custom_holder").hide()):3==a.value?($("#xpay_bank_holder").hide(),$("#xpay_bank_cheque_holder").hide(),$("#xpay_custom_holder").show()):($("#xpay_bank_holder").hide(),$("#xpay_bank_cheque_holder").hide(),$("#xpay_custom_holder").hide())}function addXpayData(){}function xpayCustomBank(a,e){const n=parseFloat(a.value);if(isNaN(n)||0==n)exists("#xpay_custom_bank_"+e)&&($("#xpay_custom_bank_amount_"+e).remove(),$("#xpay_custom_bank_"+e).remove());else if(exists("#xpay_custom_bank_"+e))$("#xpay_custom_bank_amount_"+e).val(n).change();else{const a=`<input type="hidden" class="xpay_custom_bank" name="xpay_custom_bank[]" id="xpay_custom_bank_${e}" value="${e}">\n                <input type="hidden" class="xpay_custom_bank_amount" name="xpay_custom_bank_amount_${e}" id="xpay_custom_bank_amount_${e}" value="${e}" value="${n}">\n                 `;$("#xpay_custom_banks_holder").append(a)}}function resetXPayment(){$("#xpay_amount").val(0),$(".xpay_custom_input").val("").change(),$("#xpay_custom_banks_holder").html(""),$("#xpay_method").val(1).change()}function xpayHandleChange(){$("#xpay_amount").val(xpayHandle.value)}function expayHandleChange(){$("#expay_amount").val(expayHandle.value),1==$(".expay_ledger_amount").length&&$(".expay_ledger_amount").val(expayHandle.value)}function addEXPayHandle(){exists(".expay_handle")&&(expayHandle=$(".expay_handle")[0],$("#expay_amount").val(expayHandle.value),expayHandle.addEventListener("change",expayHandleChange,!0),expayHandle.addEventListener("input",expayHandleChange,!0))}function addXPayHandle(){exists("#xpay")&&exists(".xpay_handle")&&(xpayHandle=$(".xpay_handle")[0],$("#xpay_amount").val(xpayHandle.value),xpayHandle.addEventListener("change",xpayHandleChange,!0),xpayHandle.addEventListener("input",xpayHandleChange,!0)),exists(".expay_handle")&&(expayHandle=$(".expay_handle")[0],$("#expay_amount").val(expayHandle.value),expayHandle.addEventListener("change",expayHandleChange,!0),expayHandle.addEventListener("input",expayHandleChange,!0))}function xpayVerifyData(){if(exists("#xpay")){const a=$("#xpay_method").val(),e=$("#xpay_amount").val();let n=0;const t=parseFloat($("#xpay_custom_cash").val());return isNaN(t)||(n+=t),3!=a||($(".xpay_custom_bank_amount").each((function(a,e){const t=parseFloat(e.value);isNaN(t)||(n+=t)})),e==n||(alert("Amount not matching"),!1))}return!0}function expayVerifyData(){if(exists("#expay_method")){const a=$("#expay_amount").val();let e=0;parseFloat($("#expay_custom_cash").val());return $(".expay_ledger_amount").each((function(a,n){const t=parseFloat(n.value);isNaN(t)||(e+=t)})),a==e||(alert("Amount not matching"),!1)}return!0}function loadXPay(a){return exists("#xpay_amount")&&(a.xpay_amount=$("#xpay_amount").val(),a.xpay_method=$("#xpay_method").val(),a.xpay=$("#xpay").val(),a.xpay_bank=$("#xpay_bank").val(),3==a.xpay_method&&(a.xpay_custom_bank=[],$(".xpay_custom_bank").each((function(e,n){const t=$(n).val();a.xpay_custom_bank.push(t),a["xpay_custom_bank_amount_"+t]=$("#xpay_custom_bank_amount_"+t).val(),a.xpay_custom_cash=$("#xpay_custom_cash").val()})))),a}function loadEXPay(a){return a.xpay_ledger_ids=[],$('input[name="xpay_ledger_ids[]"]').each((function(e,n){const t=parseInt(n.value)||-1;if(-1!=t){a.xpay_ledger_ids.push(t);const e=parseFloat($("#xpay_ledger_"+t).val())||0;a["xpay_ledger_"+t]=e}})),a}function loadXPayEdit(a,e){$("#expay_edit").html("No Payment Info");let n=xpayEditURL.replace("xxx_id",a);n=n.replace("xxx_identifire",e),axios.get(n).then((a=>{$("#expay_edit").html(a.data)})).catch((a=>{}))}window.addEventListener("load",addXPayHandle,!0);