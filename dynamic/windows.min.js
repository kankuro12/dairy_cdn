// @ts-nocheck
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}((function(t){var e={element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated slideUp2 ",exit:"animated slideUp2 "},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};function n(n,a,s){a={content:{message:"object"==typeof a?a.message:a,title:a.title?a.title:"",icon:a.icon?a.icon:"",url:a.url?a.url:"#",target:a.target?a.target:"-"}};s=t.extend(!0,{},a,s),this.settings=t.extend(!0,{},e,s),this._defaults=e,"-"==this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),this.init()}String.format=function(){for(var t=arguments[0],e=1;e<arguments.length;e++)t=t.replace(RegExp("\\{"+(e-1)+"\\}","gm"),arguments[e]);return t},t.extend(n.prototype,{init:function(){var t=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.styleDismiss(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(e,n){var a={};for(var e in"string"==typeof e?a[e]=n:a=e,a)switch(e){case"type":this.$ele.removeClass("alert-"+t.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+t.settings.type),t.settings.type=a[e],this.$ele.addClass("alert-"+a[e]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+a[e]);break;case"icon":var s=this.$ele.find('[data-notify="icon"]');"class"==t.settings.icon_type.toLowerCase()?s.removeClass(t.settings.content.icon).addClass(a[e]):(s.is("img")||s.find("img"),s.attr("src",a[e]));break;case"progress":var i=t.settings.delay-t.settings.delay*(a[e]/100);this.$ele.data("notify-delay",i),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",a[e]).css("width",a[e]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",a[e]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",a[e]);break;default:this.$ele.find('[data-notify="'+e+'"]').html(a[e])}var o=this.$ele.outerHeight()+parseInt(t.settings.spacing)+parseInt(t.settings.offset.y);t.reposition(o)},close:function(){t.close()}}},buildNotify:function(){var e=this.settings.content;this.$ele=t(String.format(this.settings.template,this.settings.type,e.title,e.message,e.url,e.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"==this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var e=this,n=this.settings.offset.y,a={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},s=!1,i=this.settings;switch(t('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each((function(){return n=Math.max(n,parseInt(t(this).css(i.placement.from))+parseInt(t(this).outerHeight())+parseInt(i.spacing))})),1==this.settings.newest_on_top&&(n=this.settings.offset.y),a[this.settings.placement.from]=n+"px",this.settings.placement.align){case"left":case"right":a[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":a.left=0,a.right=0}this.$ele.css(a).addClass(this.settings.animate.enter),t.each(Array("webkit-","moz-","o-","ms-",""),(function(t,n){e.$ele[0].style[n+"AnimationIterationCount"]=1})),t(this.settings.element).append(this.$ele),1==this.settings.newest_on_top&&(n=parseInt(n)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(n)),t.isFunction(e.settings.onShow)&&e.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,(function(t){s=!0})).one(this.animations.end,(function(n){t.isFunction(e.settings.onShown)&&e.settings.onShown.call(this)})),setTimeout((function(){s||t.isFunction(e.settings.onShown)&&e.settings.onShown.call(this)}),600)},bind:function(){var e=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",(function(){e.close()})),this.$ele.mouseover((function(e){t(this).data("data-hover","true")})).mouseout((function(e){t(this).data("data-hover","false")})),this.$ele.data("data-hover","false"),this.settings.delay>0){e.$ele.data("notify-delay",e.settings.delay);var n=setInterval((function(){var t=parseInt(e.$ele.data("notify-delay"))-e.settings.timer;if("false"===e.$ele.data("data-hover")&&"pause"==e.settings.mouse_over||"pause"!=e.settings.mouse_over){var a=(e.settings.delay-t)/e.settings.delay*100;e.$ele.data("notify-delay",t),e.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",a).css("width",a+"%")}t<=-e.settings.timer&&(clearInterval(n),e.close())}),e.settings.timer)}},close:function(){var e=this,n=parseInt(this.$ele.css(this.settings.placement.from)),a=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit),e.reposition(n),t.isFunction(e.settings.onClose)&&e.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,(function(t){a=!0})).one(this.animations.end,(function(n){t(this).remove(),t.isFunction(e.settings.onClosed)&&e.settings.onClosed.call(this)})),setTimeout((function(){a||(e.$ele.remove(),e.settings.onClosed&&e.settings.onClosed(e.$ele))}),600)},reposition:function(e){var n=this,a='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',s=this.$ele.nextAll(a);1==this.settings.newest_on_top&&(s=this.$ele.prevAll(a)),s.each((function(){t(this).css(n.settings.placement.from,e),e=parseInt(e)+parseInt(n.settings.spacing)+t(this).outerHeight()}))}}),t.notify=function(t,e){return new n(this,t,e).notify},t.notifyDefaults=function(n){return e=t.extend(!0,{},e,n)},t.notifyClose=function(e){void 0===e||"all"==e?t("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):t('[data-notify-position="'+e+'"]').find('[data-notify="dismiss"]').trigger("click")}})),function(t){function e(e){if("string"==typeof e.data&&(e.data={keys:e.data}),e.data&&e.data.keys&&"string"==typeof e.data.keys){var n=e.handler,a=e.data.keys.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!(t.hotkeys.options.filterInputAcceptingElements&&t.hotkeys.textInputTypes.test(e.target.nodeName)||t.hotkeys.options.filterContentEditable&&t(e.target).attr("contenteditable")||t.hotkeys.options.filterTextInputs&&t.inArray(e.target.type,t.hotkeys.textAcceptingInputTypes)>-1)){var s="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],i=String.fromCharCode(e.which).toLowerCase(),o="",r={};t.each(["alt","ctrl","shift"],(function(t,n){e[n+"Key"]&&s!==n&&(o+=n+"+")})),e.metaKey&&!e.ctrlKey&&"meta"!==s&&(o+="meta+"),e.metaKey&&"meta"!==s&&o.indexOf("alt+ctrl+shift+")>-1&&(o=o.replace("alt+ctrl+shift+","hyper+")),s?r[o+s]=!0:(r[o+i]=!0,r[o+t.hotkeys.shiftNums[i]]=!0,"shift+"===o&&(r[t.hotkeys.shiftNums[i]]=!0));for(var l=0,d=a.length;l<d;l++)if(r[a[l]])return n.apply(this,arguments)}}}}t.hotkeys={version:"0.2.0",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},t.each(["keydown","keyup","keypress"],(function(){t.event.special[this]={add:e}}))}(jQuery||this.jQuery||window.jQuery);var win={id:"#window",shown:!1,show:(t,e)=>{$("#wt").html(t),$("#wc").html(e),$(win.id).addClass("shown"),win.shown=!0,console.log(win)},showGet:(t,e,n)=>{$("#wt").html(t),axios.get(e).then((t=>{$("#wc").html(t.data),$(win.id).addClass("shown"),win.shown=!0,null!=n&&n()})),console.log(win)},showPost:(t,e,n,a)=>{$("#wt").html(t),axios.post(e,n).then((t=>{$("#wc").html(t.data),$(win.id).addClass("shown"),win.shown=!0,null!=a&&a()})),console.log(win)},hide:()=>{$("#wc").html(""),$(win.id).removeClass("shown"),win.shown=!1,console.log(win)}};function loadInDiv(t,e,n,a){e.preventDefault(),showProgress("Loading Data"),axios.post(t.action,new FormData(t)).then((t=>{$("#"+n).html(t.data),successAlert("Data loaded successfully"),"np"==locale&&npNUM(".cno"),null!=a&&a()})).catch((t=>{errAlert(t)}))}function openPostWindow(t,e){var n=document.createElement("form");for(var a in n.setAttribute("method","POST"),n.setAttribute("action",t),e)if(e.hasOwnProperty(a)){var s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name",a),s.setAttribute("value",e[a]),n.appendChild(s)}var i="_blank",o=window.open("",i,"noopener");n.target=i,o.document.body.appendChild(n),n.submit()}function deepFreeze(t){const e=Reflect.ownKeys(t);for(const n of e){const e=t[n];(e&&"object"==typeof e||"function"==typeof e)&&deepFreeze(e)}return Object.freeze(t)}function padZero(t,e=5){return String(t).padStart(e,"0")}function showNotification(t,e,n,a,s,i){(null===t||""===t)&&(t="bg-black"),(null===e||""===e)&&(e="Turning standard Bootstrap alerts"),(null===s||""===s)&&(s="animated fadeInDown"),(null===i||""===i)&&(i="animated fadeOutUp"),$.notify({message:e},{type:t,allow_dismiss:!0,newest_on_top:!0,timer:500,placement:{from:n,align:a},animate:{enter:s,exit:i},template:'<div data-notify="container" class="bootstrap-notify-container alert alert-dismissible {0} " role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})}function errAlert(t,e=""){hideProgress(),showNotification("bg-danger",e+=" "+(t.response?t.response.data.message:"Please Try again")),lock=!1}function successAlert(t){hideProgress(),showNotification("bg-success",t),lock=!1}function yes(t=""){return""==t&&(t="Enter yes to continue"),"yes"==prompt(t)}var tablecount=0;function initTableSearch(t,e,n=[]){tablecount+=1,elements=document.querySelectorAll("#"+e+" tr"),console.log(elements),console.log(n),$("#"+t).keyup((function(){parameter=$("#"+t).val().toLowerCase(),console.log(parameter),elements=document.querySelectorAll("#"+e+" tr"),elements.forEach((t=>{done=!1,n.forEach((e=>{s_para=(""+$(t).data(e)).toLowerCase(),done||(s_para.includes(parameter)?($(t).show(),done=!0):$(t).hide())}))}))}))}const formDataToJSON=t=>{var e={};return t.forEach((function(t,n){e[n]=t})),e},npNUM=t=>{const e=[["1","१"],["2","२"],["3","३"],["4","४"],["5","५"],["6","६"],["7","७"],["8","८"],["9","९"],["0","०"]];$(t).each((function(t,n){e.forEach((t=>{n.innerHTML=n.innerHTML.replaceAll(t[0],t[1])}))}))},npNUM1=t=>{const e=[["1","१"],["2","२"],["3","३"],["4","४"],["5","५"],["6","६"],["7","७"],["8","८"],["9","९"],["0","०"]],n=new RegExp(e.map((([t])=>t)).join("|"),"g");$(t).each((function(t,a){a.innerHTML=a.innerHTML.replace(n,(t=>{const n=e.find((([e])=>e===t));return n?n[1]:t}))}))},tonpNUM=t=>{t=`${t}`;const e=[["1","१"],["2","२"],["3","३"],["4","४"],["5","५"],["6","६"],["7","७"],["8","८"],["9","९"],["0","०"]],n=new RegExp(e.map((([t])=>t)).join("|"),"g");return t.replace(n,(t=>{const n=e.find((([e])=>e===t));return n?n[1]:t}))},xpayCustomData=[];var xpayHandle,expayHandle,xpayLoad=!1;function xpayMethodChange(t){2==t.value?($("#xpay_bank_holder").show(),$("#xpay_custom_holder").hide()):3==t.value?($("#xpay_bank_holder").hide(),$("#xpay_custom_holder").show()):($("#xpay_bank_holder").hide(),$("#xpay_custom_holder").hide())}function addXpayData(){}function xpayCustomBank(t,e){const n=parseFloat(t.value);if(isNaN(n)||0==n)exists("#xpay_custom_bank_"+e)&&($("#xpay_custom_bank_amount_"+e).remove(),$("#xpay_custom_bank_"+e).remove());else if(exists("#xpay_custom_bank_"+e))$("#xpay_custom_bank_amount_"+e).val(n).change();else{const t=`<input type="hidden" class="xpay_custom_bank" name="xpay_custom_bank[]" id="xpay_custom_bank_${e}" value="${e}">\n                <input type="hidden" class="xpay_custom_bank_amount" name="xpay_custom_bank_amount_${e}" id="xpay_custom_bank_amount_${e}" value="${e}" value="${n}">\n                 `;$("#xpay_custom_banks_holder").append(t)}}function resetXPayment(){$("#xpay_amount").val(0),$(".xpay_custom_input").val("").change(),$("#xpay_custom_banks_holder").html(""),$("#xpay_method").val(1).change()}function xpayHandleChange(){$("#xpay_amount").val(xpayHandle.value)}function expayHandleChange(){$("#expay_amount").val(expayHandle.value),1==$(".expay_ledger_amount").length&&$(".expay_ledger_amount").val(expayHandle.value)}function addEXPayHandle(){exists(".expay_handle")&&(expayHandle=$(".expay_handle")[0],$("#expay_amount").val(expayHandle.value),expayHandle.addEventListener("change",expayHandleChange,!0),expayHandle.addEventListener("input",expayHandleChange,!0))}function addXPayHandle(){exists("#xpay")&&exists(".xpay_handle")&&(xpayHandle=$(".xpay_handle")[0],$("#xpay_amount").val(xpayHandle.value),xpayHandle.addEventListener("change",xpayHandleChange,!0),xpayHandle.addEventListener("input",xpayHandleChange,!0)),exists(".expay_handle")&&(expayHandle=$(".expay_handle")[0],$("#expay_amount").val(expayHandle.value),expayHandle.addEventListener("change",expayHandleChange,!0),expayHandle.addEventListener("input",expayHandleChange,!0))}function xpayVerifyData(){if(exists("#xpay")){const t=$("#xpay_method").val(),e=$("#xpay_amount").val();let n=0;const a=parseFloat($("#xpay_custom_cash").val());return isNaN(a)||(n+=a),3!=t||($(".xpay_custom_bank_amount").each((function(t,e){const a=parseFloat(e.value);isNaN(a)||(n+=a)})),e==n||(alert("Amount not matching"),!1))}return!0}function expayVerifyData(){if(exists("#expay_method")){const t=$("#expay_amount").val();let e=0;parseFloat($("#expay_custom_cash").val());return $(".expay_ledger_amount").each((function(t,n){const a=parseFloat(n.value);isNaN(a)||(e+=a)})),t==e||(alert("Amount not matching"),!1)}return!0}function loadXPay(t){return exists("#xpay_amount")&&(t.xpay_amount=$("#xpay_amount").val(),t.xpay_method=$("#xpay_method").val(),t.xpay=$("#xpay").val(),t.xpay_bank=$("#xpay_bank").val(),3==t.xpay_method&&(t.xpay_custom_bank=[],$(".xpay_custom_bank").each((function(e,n){const a=$(n).val();t.xpay_custom_bank.push(a),t["xpay_custom_bank_amount_"+a]=$("#xpay_custom_bank_amount_"+a).val(),t.xpay_custom_cash=$("#xpay_custom_cash").val()})))),t}function loadEXPay(t){return t.xpay_ledger_ids=[],$('input[name="xpay_ledger_ids[]"]').each((function(e,n){const a=parseInt(n.value)||-1;if(-1!=a){t.xpay_ledger_ids.push(a);const e=parseFloat($("#xpay_ledger_"+a).val())||0;t["xpay_ledger_"+a]=e}})),t}function loadXPayEdit(t,e){$("#expay_edit").html("No Payment Info");let n=xpayEditURL.replace("xxx_id",t);n=n.replace("xxx_identifire",e),axios.get(n).then((t=>{$("#expay_edit").html(t.data)})).catch((t=>{}))}function getCSV(t){return new Promise(((e,n)=>{let a=new FileReader;a.addEventListener("load",(function(t){let n=t.target.result;e(n.split("\n").map((t=>t.trim())).filter((t=>t.length>0)).map((t=>t.split(",").map((t=>t.trim())))))})),a.addEventListener("error",(t=>{n(t)})),a.readAsText(t,'"UTF-8"')}))}function exportCSV(t,e){let n=document.createElement("a"),a=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(a);n.href=s,n.setAttribute("download",e+".csv"),n.click()}function switchRequired(t,e){t.checked?$(e).attr("required","selector"):$(e).removeAttr("required")}function switchEle(t,e){t?$("#"+e).removeClass("d-none"):$("#"+e).addClass("d-none")}function switchInput(t,e,n=!1){t?($("#"+e+"_holder").removeClass("d-none"),n&&$("#"+e).attr("required","required")):($("#"+e+"_holder").addClass("d-none"),n&&$("#"+e).removeAttr("required"))}function selectReport(t){$(".report_selector").removeClass("btn-primary"),$("#report_selector_"+t).addClass("btn-primary"),$(".report_holder").removeClass("selected"),$(".report_holder_"+t).addClass("selected")}window.addEventListener("load",addXPayHandle,!0);const getToday=()=>NepaliFunctions.GetCurrentBsYear()+"-"+(month<10?"0"+month:month)+"-"+(day<10?"0"+day:day),getTodayInt=()=>NepaliFunctions.GetCurrentBsYear()+""+(month<10?"0"+month:month)+(day<10?"0"+day:day);function nepaliDateParts(t,e=null){if(null===t)return{year:null,month:null,day:null,dm:null};const n=Math.floor(t/1e4);t%=1e4;const a=Math.floor(t/100);return{year:n,month:a,day:t%100,dm:100*n+a}}function dateParts(t){let e={};return e.year=Math.floor(t/1e4),t%=1e4,e.month=Math.floor(t/100),e.day=t%100,e.day<16?e.session=1:e.session=2,e}function toNepaliDate(t){if(t){const e=parseInt(t/1e4);let n=t%1e4;const a=parseInt(n/100);return n%=100,e+"-"+(a<10?"0"+a:a)+"-"+(n<10?"0"+n:n)}return""}function partToNepaliDate(t,e="str"){return t?"str"==e?t[0]+"-"+(t[1]<10?"0"+t[1]:t[1])+"-"+(t[2]<10?"0"+t[2]:t[2]):parseInt(""+t[0]+(t[1]<10?"0"+t[1]:t[1])+(t[2]<10?"0"+t[2]:t[2])):""}function getNepalidate(t,e=!1,n=!0){let a=[];if(e){a[0]=parseInt(t/1e4);let e=t%1e4;a[1]=parseInt(e/100),a[2]=e%100}else a=t.split("-");const s=NepaliFunctions.AD2BS({year:a[0],month:a[1],day:a[2]});return n?parseInt(`${s.year}${s.month<10?"0"+s.month:s.month}${s.day<10?"0"+s.day:s.day}`):s}const nepaliDateDiff=(t,e)=>{const n=t.split("-"),a={year:n[0],month:n[1],day:n[2]},s=e.split("-"),i={year:s[0],month:s[1],day:s[2]};let o=NepaliFunctions.BsDatesDiff(i,a);return parseInt(t.replaceAll("-",""))>parseInt(e.replaceAll("-",""))&&(o*=-1),o};function nextDayNep(t){let[e,n,a]=toNepaliDate(t).split("-").map(Number);return a+=1,a>NepaliFunctions.GetDaysInBsMonth(e,n)&&(n+=1,a=1,n>12&&(n=1,e+=1)),1e4*e+100*n+a}function prevDayNep(t){let[e,n,a]=toNepaliDate(t).split("-").map(Number);NepaliFunctions.GetDaysInBsMonth(e,n);return a-=1,a<1&&(n-=1,n<1&&(n=12,e-=1),a=NepaliFunctions.GetDaysInBsMonth(e,n)),1e4*e+100*n+a}function initCalenderDate(t){let e=NepaliFunctions.GetCurrentBsYear()+"-"+(month<10?"0"+month:month)+"-"+(day<10?"0"+day:day);if((""==this.value||null==this.value)&&$(this).val(e),$("#"+t).hasClass("nolimit"))$("#"+t).nepaliDatePicker();else if($("#"+t).nepaliDatePicker(),xdayclose)if($("#"+t).hasClass("report"))$("#"+t).nepaliDatePicker({disableAfter:e});else if($("#"+t).val(e),null==lastClosedDate)$("#"+t).nepaliDatePicker({disableBefore:e});else{let n=`${lastClosedDate}`,a=n.slice(0,4)+"-"+n.slice(4,6)+"-"+n.slice(6),[s,i,o]=a.split("-").map(Number);(o+=1)>NepaliFunctions.GetDaysInBsMonth(s,i)&&(o=1,(i+=1)>12&&(i=1,s+=1)),nextDayDate=s+"-"+(i<10?"0"+i:i)+"-"+(o<10?"0"+o:o);let r=parseInt(nextDayDate.replaceAll("-","")),l=parseInt(e.replaceAll("-",""));$("#"+t).nepaliDatePicker({disableAfter:e,disableBefore:nextDayDate}),$("#"+t).on("changed change",(function(){console.log(this.value);let[t,n,a]=this.value.split("-").map(Number),s=parseInt(this.value.replaceAll("-",""));console.log(t,n,a),s<r&&(this.value=nextDayDate),s>l&&(this.value=e)}))}else $("#"+t).nepaliDatePicker({disableAfter:e});$("#"+t).mask("0000-00-00"),$("#"+t).attr("placeholder","YYYY-MM-DD")}const createIndexedDB=(t,e)=>({dbName:t,storeName:e,openDB(){return new Promise(((t,n)=>{const a=indexedDB.open(this.dbName,1);a.onupgradeneeded=function(t){const n=t.target.result;n.objectStoreNames.contains(e)||n.createObjectStore(e)},a.onsuccess=function(e){t(e.target.result)},a.onerror=function(t){n(t.target.error)}}))},async save(t,e){const n=(await this.openDB()).transaction(this.storeName,"readwrite").objectStore(this.storeName);return new Promise(((a,s)=>{const i=n.put(e,t);i.onsuccess=()=>a(i.result),i.onerror=()=>s(i.error)}))},async load(t){const e=(await this.openDB()).transaction(this.storeName,"readonly").objectStore(this.storeName);return new Promise(((n,a)=>{const s=e.get(t);s.onsuccess=()=>n(s.result),s.onerror=()=>a(s.error)}))}}),intLen=t=>parseInt(t.toString()).toString().length;window.onload=function(){const t=document.querySelector("#placeholders");t&&t.insertAdjacentHTML("beforeend",'\n\t<div class="window" id="window">\n\t\t<div class="inner-window">\n\t\t<div class="top-bar">\n\t\t\t<span id="wt"></span>\n\t\t\t<span id="wcc" onclick="win.hide()">close</span>\n\t\t</div>\n\t\t<div class="content" id="wc"></div>\n\t\t</div>\n\t</div>\n\t<div class="working" id="xxx_123">\n\t\t<div class="working-child" >\n\n\t\t\t<div class="w-100 working-title" id="yyy_123">\n\t\t\t\tasdfasd\n\t\t\t</div>\n\t\t\t<img src="https://cdn-dairy-co.com/static/img/cude_loader.svg" alt="">\n\t\t</div>\n\t</div>\n\t')};